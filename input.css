/* input.css */

/* 
 * ============================================================================
 * MAIN STYLESHEET SOURCE
 * ============================================================================
 * 
 * This file serves as the entry point for the Tailwind CSS compiler.
 * It adheres to the "Utility-First" methodology but includes custom component
 * abstractions where repetitive utility classes would clutter the HTML.
 * 
 * Architecture:
 * 1. Tailwind Directives (Base, Components, Utilities)
 * 2. CSS Variables (Theming Engine)
 * 3. Global Resets & Typography
 * 4. Custom Component Classes (BEM-lite naming convention)
 * 5. Animation Definitions
 */

/* 
 * 1. TAILWIND DIRECTIVES
 * ----------------------------------------------------------------------------
 * Injects Tailwind's preflight (reset), component classes, and utility classes.
 */
@tailwind base;
@tailwind components;
@tailwind utilities;


/* 
 * 2. THEME CONFIGURATION (CSS VARIABLES)
 * ----------------------------------------------------------------------------
 * We use CSS Custom Properties for theming. This allows for instant theme 
 * switching via JavaScript without reloading the page or making network requests.
 * 
 * Usage: var(--variable-name)
 */

/* --- ACTIVE THEME --- */

/* 
 * THEME: Ocean Breeze (Calm Blue)
 * Selected as the active theme. Provides a serene, trust-building color palette.
 * - Primary: Sky Blue (Actions, Highlights)
 * - Accent: Deep Blue (Secondary actions)
 * - Backgrounds: Very light blue tints for visual depth.
 */
:root { 
    --bg-light: #F0F9FF; 
    --bg-soft: #E0F2FE; 
    --primary: #38BDF8; 
    --accent: #0284C7; 
    --text-dark: #0C4A6E; 
    --text-light: #475569; 
}

/* --- INACTIVE THEMES (Preserved for future toggling) --- */

/* THEME 1: Romantic Rose (Default) */
/* :root { --bg-light: #FFF8F0; --bg-soft: #FFEAE3; --primary: #E8A0BF; --accent: #BA90C6; --text-dark: #432C39; --text-light: #6D5D6E; } */

/* THEME 3: Sage & Forest (Nature) */
/* :root { --bg-light: #F7FEE7; --bg-soft: #ECFCCB; --primary: #84CC16; --accent: #4D7C0F; --text-dark: #14532D; --text-light: #3F6212; } */

/* THEME 4: Lavender Haze (Soft Purple) */
/* :root { --bg-light: #FAF5FF; --bg-soft: #F3E8FF; --primary: #A855F7; --accent: #7E22CE; --text-dark: #3B0764; --text-light: #6B21A8; } */

/* THEME 5: Golden Hour (Warm Elegant) */
/* :root { --bg-light: #FFFCF5; --bg-soft: #FEF3C7; --primary: #F59E0B; --accent: #B45309; --text-dark: #451A03; --text-light: #78350F; } */


/* 
 * 3. GLOBAL BASE STYLES
 * ----------------------------------------------------------------------------
 * Overrides to standard HTML elements to enforce the design system.
 */

body {
    font-family: 'Lato', sans-serif;
    background-color: var(--bg-light);
    color: var(--text-dark);
    
    /* 
     * Texture Overlay
     * Adds a subtle SVG pattern to reduce visual flatness of the solid background color.
     * Uses a data URI for performance (saves an HTTP request).
     */
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

/* Typography: Serif font for headings to create elegance/contrast against sans-serif body */
h1, h2, h3 { 
    font-family: 'Playfair Display', serif; 
    color: var(--text-dark); 
}


/* 
 * 4. ADMIN / EDIT MODE UTILITIES
 * ----------------------------------------------------------------------------
 * Controls the visibility of "Admin Only" features (Edit buttons, delete icons).
 * We use !important here to ensure these rules strictly override any utility classes
 * that might accidentally display them (e.g., 'block', 'flex').
 */
.edit-mode-only { display: none !important; }

/* When body has class 'is-editing', reveal these elements with their appropriate display type */
body.is-editing .edit-mode-only { display: inline-block !important; }
body.is-editing div.edit-mode-only,
body.is-editing button.edit-mode-only { display: block !important; }
body.is-editing span.edit-mode-only { display: inline !important; }
body.is-editing .flex.edit-mode-only { display: flex !important; }


/* 
 * 5. COMPONENT ABSTRACTIONS
 * ----------------------------------------------------------------------------
 * Custom classes that bundle multiple CSS properties. 
 * Used to keep the HTML template cleaner and ensure consistency.
 */

/* -- Color Utilities -- */
.text-primary { color: var(--primary) !important; }
.bg-primary { background-color: var(--primary) !important; }
.bg-soft { background-color: var(--bg-soft) !important; }

/* -- Sidebar Navigation (Desktop) -- */
#sidebar-nav { 
    background: rgba(255, 255, 255, 0.8); 
    backdrop-filter: blur(10px); /* Frosted glass effect */
}

.nav-item.active { 
    background-color: var(--primary); 
    color: white; 
    box-shadow: 0 4px 15px -5px var(--primary); /* Glow effect matching theme color */
}

.nav-item:hover:not(.active) { 
    background-color: var(--bg-soft); 
    color: var(--text-dark); 
}

/* -- Mobile Navigation (Bottom Bar) -- */
#mobile-nav { 
    backdrop-filter: blur(10px); 
    background: rgba(255, 255, 255, 0.9); 
    border-top: 1px solid rgba(0,0,0,0.05); 
}

.mobile-nav-item { 
    flex-shrink: 0; 
    min-width: 65px; 
    text-align: center; 
    padding: 0.75rem 0.5rem; 
    font-size: 0.75rem; 
    color: var(--text-light); 
    transition: color 0.2s ease-in-out; 
}

.mobile-nav-item.active { color: var(--primary); }
.mobile-nav-item i { 
    font-size: 1.25rem; 
    margin-bottom: 0.25rem; 
    display: block; 
    width: 100%; 
}

/* -- Cards & Containers -- */
/* Content sections are tabs; hidden by default, block when active */
.content-section { display: none; }
.content-section.active { display: block; }

.card { 
    background: rgba(255, 255, 255, 0.85); 
    backdrop-filter: blur(5px); 
    border: 1px solid rgba(255, 255, 255, 0.4); 
}

/* -- Modals (Popups) -- */
.modal-backdrop { 
    display: none; 
    position: fixed; 
    inset: 0; 
    background-color: rgba(0,0,0,0.6); 
    z-index: 40; 
}

.modal-backdrop.active { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}

/* 
 * Modal Content 
 * Uses 'dvh' (Dynamic Viewport Height) to correctly handle mobile browsers 
 * where the address bar expands/retracts.
 */
.modal-content { 
    background-color: #f8fafc; 
    width: 100%; 
    height: 100dvh; 
    display: flex; 
    flex-direction: column; 
}

/* Desktop Modal Overrides */
@media (min-width: 768px) {
    .modal-content { 
        height: auto; 
        max-height: 90vh; 
        width: 100%; 
        max-width: 640px; 
        border-radius: 1rem; 
        box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); 
    }
}

.modal-content-header { background: white; border-bottom: 1px solid #e2e8f0; flex-shrink: 0; }
.modal-content-body { overflow-y: auto; flex-grow: 1; background: white; }
.modal-content-footer { background: #f8fafc; border-top: 1px solid #e2e8f0; flex-shrink: 0; }

/* -- Form Elements -- */
/* iOS Input Zoom Fix: Font size of 16px (1rem) prevents iOS from zooming in when input is focused */
.form-input { 
    width: 100%; 
    padding: 0.75rem; 
    border: 2px solid var(--bg-soft); 
    border-radius: 0.5rem; 
    background-color: white; 
    font-size: 1rem; 
}

.form-input:focus { outline: none; border-color: var(--primary); }

/* -- Buttons -- */
.btn { 
    padding: 0.65rem 1.25rem; 
    border-radius: 0.5rem; 
    font-weight: bold; 
    transition: all 0.3s; 
}

.btn-primary { background-color: var(--primary); color: white; }
.btn-primary:hover { 
    transform: translateY(-2px); /* Subtle lift effect */
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
}

.btn-secondary { background-color: #e2e8f0; color: #475569; }

.btn-icon { 
    background: none; 
    border: none; 
    cursor: pointer; 
    color: var(--text-light); 
    transition: all 0.2s; 
    padding: 0.5rem; 
    border-radius: 99px; 
    width: 2.25rem; 
    height: 2.25rem; 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
}
.btn-icon:hover { color: var(--primary); background-color: var(--bg-soft); }

/* -- Custom Components -- */
/* Calendar Month Selector */
.calendar-select { 
    appearance: none; 
    background: transparent; 
    border: none; 
    font-family: 'Playfair Display', serif; 
    font-size: 1.25rem; 
    font-weight: 700; 
    cursor: pointer; 
    color: var(--text-dark); 
    padding: 0 0.5rem; 
}
.calendar-select:hover { color: var(--primary); }

/* Alert Modal (High Z-Index to ensure it sits on top of everything) */
#alert-modal-backdrop { z-index: 2000 !important; background-color: rgba(0,0,0,0.8) !important; }

.alert-modal-content {
    background-color: #ffffff !important;
    color: #1e293b !important;
    padding: 2rem;
    border-radius: 1rem;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 20px 25px -5px rgba(0,0,0,0.5);
    border: 2px solid var(--primary);
    position: relative;
    z-index: 2001;
}

/* Image Lightbox */
.image-modal-backdrop { 
    display: none; 
    position: fixed; 
    inset: 0; 
    background-color: rgba(0, 0, 0, 0.95); /* High opacity for immersive view */
    z-index: 60; 
    align-items: center; 
    justify-content: center; 
    padding: 1rem; 
}
.image-modal-backdrop.active { display: flex; }

.image-modal-content { 
    position: relative; 
    width: 100%; 
    max-width: 1000px; 
    max-height: 90vh; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
}

.image-modal-img { 
    max-width: 100%; 
    max-height: 80vh; 
    object-fit: contain; /* Ensures image is never cropped */
    border-radius: 0.5rem; 
}

.image-modal-caption { 
    background: white; 
    padding: 1rem; 
    margin-top: 1rem; 
    border-radius: 0.5rem; 
    color: black; 
    width: auto; 
    min-width: 200px; 
    text-align: center; 
}

/* Lightbox Controls */
.image-modal-close { 
    position: absolute; 
    top: -3rem; 
    right: 0; 
    background: white; 
    border: none; 
    width: 2.5rem; 
    height: 2.5rem; 
    border-radius: 50%; 
    font-size: 1.25rem; 
    cursor: pointer; 
    z-index: 65; 
}

.image-modal-nav { 
    position: absolute; 
    top: 50%; 
    transform: translateY(-50%); 
    background: rgba(255,255,255,0.2); 
    color: white; 
    border: none; 
    padding: 1rem; 
    cursor: pointer; 
    font-size: 1.5rem; 
    border-radius: 50%; 
    transition: 0.3s; 
}
.image-modal-nav:hover { background: rgba(255,255,255,0.5); }
.image-modal-prev { left: 10px; }
.image-modal-next { right: 10px; }


/* 
 * 6. ANIMATIONS
 * ----------------------------------------------------------------------------
 */

/* Fade In Utility */
@keyframes fadeIn { 
    from { opacity: 0; transform: translateY(10px); } 
    to { opacity: 1; transform: translateY(0); } 
}
.fade-in { animation: fadeIn 0.5s ease-in-out forwards; }

/* Heartbeat Pulse (Used for the timer) */
@keyframes heartbeat { 
    0% { transform: scale(1); } 
    15% { transform: scale(1.2); } 
    30% { transform: scale(1); } 
    45% { transform: scale(1.2); } 
    60% { transform: scale(1); } 
    100% { transform: scale(1); } 
}
.heart-beat { 
    animation: heartbeat 1s infinite; 
    display: inline-block; 
    color: var(--primary); 
    margin: 0 5px; 
}

/* Decision Wheel Animation */
/* Note: Rotation is handled via JS, but we set the transition physics here */
.wheel-container {
    position: relative;
    width: 100%;
    max-width: 250px;
    aspect-ratio: 1/1;
    margin: 0 auto;
}

.wheel { 
    width: 100%; 
    height: 100%; 
    border-radius: 50%; 
    border: 8px solid white; 
    box-shadow: 0 10px 20px rgba(0,0,0,0.2); 
    transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99); /* Custom Bezier for realistic friction stop */
    position: relative; 
    overflow: hidden; 
}

.wheel-arrow { 
    position: absolute; 
    top: -15px; 
    left: 50%; 
    transform: translateX(-50%); 
    width: 0; 
    height: 0; 
    border-left: 15px solid transparent; 
    border-right: 15px solid transparent; 
    border-top: 30px solid var(--text-dark); 
    z-index: 10; 
}

.wheel-center { 
    position: absolute; 
    top: 50%; 
    left: 50%; 
    transform: translate(-50%, -50%); 
    width: 40px; 
    height: 40px; 
    background: white; 
    border-radius: 50%; 
    z-index: 5; 
    box-shadow: 0 0 10px rgba(0,0,0,0.2); 
}